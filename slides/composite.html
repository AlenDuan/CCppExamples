<!DOCTYPE html>
<html lang="en"></html>
<head>
  <meta charset="utf-8">
  <title>composite</title>
  <meta name="author" content="俸志刚">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=2.0, user-scalable=yes">
  <link rel="stylesheet" href="css/reveal_bigFont.css">
  <link id="theme" rel="stylesheet" href="css/theme/simple.css">
  <link rel="stylesheet" href="../lib/bootstrap/css/bootstrap.min.css">
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <h3>composite</h3><br>
          <h3>组合（复合）</h3><br>
          <h3>has-a</h3>
        </section>
        <section>
          <section id="example3_7">
            <h3> 【例3-7】Line & Point</h3>
            <pre>class Line{
public:
    Line(Point p1,Point p2):p1(p1),p2(p2){};
    Line(int x1,int y1,int x2,int y2):p1(x1,y1),p2(x2,y2){};
private:
    Point p1,p2;
};
class Point{
public:
    Point(){};
    Point(int x,int y):x(x),y(y){};
private:
    int x = 0,y = 0;
};</pre>
          </section>
        </section>
        <section>
          <section id="example3_8">
            <h3>【例3-8】Stack + Node</h3>
            <pre>class Stack{
public:
    void push(int item);
    int pop();
    bool isEmpty();
private:
    Node head;
};</pre>
          </section>
          <section>
            <h3>Stack+Node</h3>
            <pre>void Stack::push(int item){
    Node * node = new Node(item);
    node->next = head.next;
    head.next = node;
}
int pop(){
    Node *first = head.next;
    int value =first->value;
    head.next = first->next;
    delete first;
    return value;
}
bool isEmpty(){
    return head.next == null;
}</pre>
          </section>
          <section>
            <h3>Stack+Node</h3>
            <pre>class Node{
public:
    Node(int value = 0):value(value){};
    int value;
    Node * next = null;
};</pre>
          </section>
          <section>
            <h3>Stack+Node</h3>
            <pre>struct Node{
    Node(int value=0):value(value){};
    int value;
    Node * next = null;
};</pre>
          </section>
        </section>
        <section>
          <h3>不限容量的Stack</h3><br>
          <h3>试试看：多少种不同实现方法？</h3>
        </section>
        <section>
          <section id="example3_9">
            <h3>【例3-9】Stack+Stack</h3>
            <pre>class Stack{
public:
    void push(int item);
    int pop();
    bool isEmpty();
private:
    int data[100];
    int count = 0;
    Stack *next;
};</pre>
          </section>
          <section>
            <h3>Stack+Stack</h3>
            <pre>void Stack::push(int item){
    if (count<100){
        data[count]=item;
    }else{
        if(count == 100){
            next = new Stack();
        }
        next->push(item);
    }
    count++;
}</pre>
          </section>
          <section>
            <h3>Stack+Stack</h3>
            <pre>int pop(){
    int value;
    count--;
    if (count<100){
        value = data[count];
    }else{
        item = next->pop();
        if(count == 100){
            delete next;
        }
    }
    return value;
}
bool isEmpty(){
    return 0 == count;
}</pre>
          </section>
        </section>
        <section>
          <section id="example3_10_1">
            <h3>【例3-10-1】Stack+Vector(stl)</h3>
            <pre>class Stack{
public:
    void push(int item);
    int pop();
    bool isEmpty();
private:
    Vector<int> data;
};</pre>
          </section>
          <section>
            <h3>Stack+Vector</h3>
            <pre>void Stack::push(int item){
    data.push_back(item);
}

int Stack::pop(){
    int value = data.back();
    data.pop_back();
    return value;
}
bool Stack::isEmpty(){
    return data.empty();
}
</pre>
          </section>
          <section id="example3_10_2">
            <h3>【例3-10-2】private继承 实现组合</h3>
            <pre>class Stack:private Vector&ltint&gt{
public:
    void push(int item);
    int pop();
    bool isEmpty();
};
</pre>
          </section>
          <section>
            <h3>private继承 实现组合</h3>
            <pre>void Stack::push(int item){
    push_back(item);
}

int Stack::pop(){
    int value = back();
    pop_back();
    return value;
}
bool Stack::isEmpty(){
    return empty();
}</pre>
          </section>
        </section>
        <section>
          <section>
            <h3>UML(Unified Modeling Language)</h3>
            <h3>(统一建模语言)</h3><img src="img/uml_class.png" width="700" height="400">
          </section>
          <section>
            <h3>UML(Unified Modeling Language)</h3>
            <h3>(统一建模语言)</h3><img src="img/uml_relationship.png" width="700" height="400">
          </section>
        </section>
        <section>
          <section id="example3_11">
            <h3>【例3-11】电脑入库及销售 OO版</h3>
          </section>
          <section>
            <h3>功能描述：</h3>
            <pre>a) 程序启动时，屏幕上显示菜单：
   1）查看库存
   2）电脑入库
   3）卖出
   4）退出程序”；
   
b) 用户输入菜单编号

c) 系统根据菜单编号，分别作出相应动作
    如果不是1-4，则提示用户：“错误的菜单项”，要求用户重新输入
    
d）系统完成相应功能后，重新显示菜单；用户可再次选择所需要的功能；
</pre>
          </section>
          <section>
            <h3>1）查看库存 功能描述：</h3>
            <pre>显示库存列表，每行为某种电脑的所有数据，

包括：型号、CPU、内存容量、硬盘容量、库存数量；
</pre>
          </section>
          <section>
            <h3>2）电脑入库 功能描述：</h3>
            <pre>a)系统提示用户输入电脑型号；

b)用户输入电脑型号；

c)系统提示用户输入入库数量；

d）用户输入数量；

e）系统查找库存：
    如果已有该型号的电脑，则追加新入库的数量；
    否则，新建一条记录；
    </pre>
          </section>
          <section>
            <h3>3）卖出 功能描述：</h3>
            <pre>a)系统提示用户输入电脑型号；

b)用户输入电脑型号；

c)系统查找库存：
    如果不存在该型号电脑，则提示用户，并返回主菜单；
    
d）系统提示用户输入卖出数量；

e）用户输入数量；

f）系统减去卖出数量；
</pre>
          </section>
          <section>
            <h3>电脑销售 class diagram</h3><img src="img/computer_sales.png" width="700" height="450">
          </section>
        </section>
        <section>
          <h3>单一职责原则</h3>
          <ol>
            <li>一个模块只做一件事</li><br>
            <li>一件事只在一个模块中做</li>
          </ol>
        </section>
        <section id="homework3_2">
          <h3>【作业3-2】C++考试成绩管理 OO版</h3>
        </section>
        <section>
          <h1>The End</h1>
        </section>
      </div>
      <div id="clock"></div><a href="../index.html">目录</a>
    </div>
    <script src="js/reveal.min.js"></script>
    <script src="../lib/jquery-1.10.2.min.js"></script>
    <script>
      // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
          controls: true,
          progress: true,
          history: true,
          center: true,
          loop: false,
          mouseWheel: true,
          //theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
          transition: 'default' // default/cube/page/concave/zoom/linear/fade/none
          });
    </script>
    <script>
      $(function(){
          function showTime(){
              var now = new Date()
              clock.html( now.getHours()+':'+now.getMinutes() )
          }
          
          var clock = $('#clock')
          showTime()
          setInterval( showTime,1000*60 )
          
      })
    </script>
  </body>
</head>